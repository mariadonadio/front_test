
<section class="form-container p-5">
    <form (ngSubmit)="onSubmit()" #itemForm="ngForm">

        <div class="form-row">
          <div class="form-group col">
            <label for="name">Name</label>
            <input type="text" class="form-control form-control-sm" id="name" required
                   [(ngModel)]="item.name" name="name" #name="ngModel">
            <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
              Name is required
            </div>
          </div>
      
          <div class="form-group col">
            <label for="cuit">CUIT</label>
            <input type="number" class="form-control form-control-sm" id="cuit" required duplicated
                   [(ngModel)]="item.cuit" name="cuit" #cuit="ngModel"
                   [ngModelOptions]="{ updateOn: 'blur' }"
                   [disabled]="id != 'NEW'">
  
            <div *ngIf="cuit.pending" class="alert alert-info">Validating...</div>
            <div *ngIf="cuit.invalid && (cuit.dirty || cuit.touched)" class="alert alert-danger">
              <div *ngIf="email.errors && email.errors.required">
                Este campo es requerido.
              </div>
              <div *ngIf="cuit.errors && cuit.errors.duplicated">
                Cuit duplicado.
              </div>
            </div>
          </div>

        </div>
        

        <div class="form-group">
          <label for="address">Dirección</label>
          <input type="text" class="form-control form-control-sm" id="address" required
                 [(ngModel)]="item.address" name="address" #address="ngModel">
          <div [hidden]="address.valid || address.pristine" class="alert alert-danger">
            Este campo es requerido
          </div>
        </div>

        <div class="form-row">
          
            <div class="form-group col">
              <label for="phone">Teléfono</label>
              <input type="number" class="form-control form-control-sm" id="phone" required
                    [(ngModel)]="item.phone" name="phone" #phone="ngModel">
              <div [hidden]="phone.valid || phone.pristine" class="alert alert-danger">
                Este campo es requerido
              </div>
            </div>

            <div class="form-group col">
              <label for="email">E-mail</label>
              <input type="email" class="form-control form-control-sm" id="email" required email
                    [(ngModel)]="item.email" name="email" #email="ngModel">
              
              <div *ngIf="email.invalid && (email.dirty || email.touched)"
                    class="alert alert-danger">
                
                  <div *ngIf="email.errors.required">
                    Este campo es requerido
                  </div>

                  <div *ngIf="email.errors.email">
                    Debe ingresar un email válido
                  </div>
              </div>
          </div>
   
        </div>
        
        
    
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="ri" 
            [(ngModel)]="item.ri" name="ri" #ri="ngModel">
          <label class="form-check-label" for="ri">Responsable Inscripto</label>
        </div>
        
        <div class="d-flex justify-content-end">

          <button type="button" class="btn btn-secondary m-1 btn-sm" (click)="onCancel()">Cancelar</button>
          
          <button type="submit" class="btn btn-success m-1 btn-sm" 
              [disabled]="!itemForm.form.valid">Guardar</button>
        </div>

    </form>
</section>
